(function(){function a(c,f,e,g){if(c.addEventListener){c.addEventListener(f,e,g);return{destroy:function(){c.removeEventListener(f,e,g)}}}else{var d=function(h){e.handleEvent(window.event,e)};c.attachEvent("on"+f,d);return{destroy:function(){c.detachEvent("on"+f,d)}}}}var b="ontouchstart" in window;this.FastButton=function(c,d,e){this.events=[];this.touchEvents=[];this.element=c;this.handler=d;this.useCapture=e;if(b){this.events.push(a(c,"touchstart",this,this.useCapture))}this.events.push(a(c,"click",this,this.useCapture))};this.FastButton.prototype.destroy=function(){for(i=this.events.length-1;i>=0;i-=1){this.events[i].destroy()}this.events=this.touchEvents=this.element=this.handler=this.fastButton=null};this.FastButton.prototype.handleEvent=function(c){switch(c.type){case"touchstart":this.onTouchStart(c);break;case"touchmove":this.onTouchMove(c);break;case"touchend":this.onClick(c);break;case"click":this.onClick(c);break}};this.FastButton.prototype.onTouchStart=function(c){c.stopPropagation?c.stopPropagation():(c.cancelBubble=true);this.touchEvents.push(a(this.element,"touchend",this,this.useCapture));this.touchEvents.push(a(document.body,"touchmove",this,this.useCapture));this.startX=c.touches[0].clientX;this.startY=c.touches[0].clientY};this.FastButton.prototype.onTouchMove=function(c){if(Math.abs(c.touches[0].clientX-this.startX)>10||Math.abs(c.touches[0].clientY-this.startY)>10){this.reset()}};this.FastButton.prototype.onClick=function(c){c.stopPropagation?c.stopPropagation():(c.cancelBubble=true);this.reset();var d=this.handler.call(this.element,c);if(c.type=="touchend"){clickbuster.preventGhostClick(this.startX,this.startY)}return d};this.FastButton.prototype.reset=function(){for(i=this.touchEvents.length-1;i>=0;i-=1){this.touchEvents[i].destroy()}this.touchEvents=[]};this.clickbuster=function(){};this.clickbuster.preventGhostClick=function(c,d){clickbuster.coordinates.push(c,d);window.setTimeout(clickbuster.pop,2500)};this.clickbuster.pop=function(){clickbuster.coordinates.splice(0,2)};this.clickbuster.onClick=function(c){for(var d=0;d<clickbuster.coordinates.length;d+=2){var e=clickbuster.coordinates[d];var f=clickbuster.coordinates[d+1];if(Math.abs(c.clientX-e)<25&&Math.abs(c.clientY-f)<25){c.stopPropagation?c.stopPropagation():(c.cancelBubble=true);c.preventDefault?c.preventDefault():(c.returnValue=false)}}};if(b){document.addEventListener("click",clickbuster.onClick,true);clickbuster.coordinates=[]}})(this);